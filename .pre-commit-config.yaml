repos:
  - repo: https://github.com/psf/black
    rev: 23.12.1  # Use the latest stable version
    hooks:
      - id: black

  - repo: local
    hooks:
      - id: commit-message-format
        name: Enforce Conventional Commits
        entry: .git-hooks/validate-commit-msg.sh
        language: system
        stages: [commit-msg]
      - id: mypy
        name: mypy
        entry: poetry run mypy
        language: system
        types: [file, python]
        files: '^(src)/'
        stages: [commit]
      - id: pylint
        name: pylint
        entry: poetry run pylint
        language: system
        types: [python]
        files: '^(src|test)/'
        stages: [commit]
      - id: pytest-unit
        name: Run pytest unit tests
        entry: poetry run pytest tests -m "not integration and not e2e"
        language: system
        pass_filenames: false
        stages: [commit]
